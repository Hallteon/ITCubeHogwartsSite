{% extends 'main/base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'main/css/forms.css' %}">
<link rel="stylesheet" href="{% static 'articles/css/add_article.css' %}">
{% endblock %}

{% block content %}
<section class="add-article">
    <div class="container">
        <div class="row d-flex justify-content-center">
            <div class="col-lg-10 form-container">
                <form class="add-article-form form" method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                    <div class="text-center form__errors">{{form.non_field_errors}}</div>

                    <div class="row">
                        <div class="col-sm-4">
                            <label class="form__label" for="{{form.title.id_for_label}}">{{form.title.label}}: </label>
                        </div>
                        <div class="col-sm-8">
                            {{form.title}}
                        </div>
                        <div class="form__errors">{{form.title.errors}}</div>

                        <div class="col-sm-4">
                            <label class="form__label" for="{{form.cover_image.id_for_label}}">{{form.cover_image.label}}: </label>
                        </div>
                        <div class="col-sm-8">
                            {{form.cover_image}}
                        </div>
                        <div class="form__errors">{{form.cover_image.errors}}</div>

                        <div class="col-sm-4">
                            <label class="form__label" for="{{form.content.id_for_label}}">{{form.content.label}}: </label>
                        </div>
                        <div class="col-sm-8">
                            <div class="form__editor-textarea">{{form.content}}</div>
                        </div>
                        <div class="form__errors">{{form.content.errors}}</div>

                        <div class="col-sm-4">
                            <label class="form__label" for="{{form.tags.id_for_label}}">{{form.tags.label}}: </label>
                        </div>
                        <div class="col-sm-8">
                            <div class="row">
                                {% for tag in form.tags %}
                                <div class="col-sm-6 col-md-4 col-xl-3">{{tag}}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form__errors">{{form.tags.errors}}</div>
                    </div>

                    <button class="form__btn btn" type="submit">Опубликовать статью</button>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
<script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
{% endblock %}
